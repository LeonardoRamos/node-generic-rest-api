{"version":3,"sources":["src/api/helpers/query.parser.js"],"names":["DEFAULT_OFFSET","DEFAULT_LIMIT","MAX_LIMIT","getOffset","requestQuery","offset","undefined","getLimit","limit","parseSeletor","seletor","split","map","attr","trim","parseSortOrder","sort","orderFields","fields","i","length","filterOrder","push","field","sortOrder","SortOrder","getSortOrder","parseRequestSymbols","filter","join","LogicOperator","AND","operatorAlias","operator","OR","parseFilterOperators","projection","sum","avg","count","countDistinct","groupBy","simpleCharOperator","FilterOperator","EQ","GT","LT","Object","keys","forEach","includes","filterOperator","operatorCommonAlias","parseableOperator","simpleCharfilterOperator","parseFilterExpressions","expressionString","currentExpression","initialExpression","word","charAt","logicOperator","processOperator","filterField","parseFilterField","processNewExpressionNode","getOperator","logicExpression","getComparisonOperator","value","index","operation","appendOperation","getFilterOperator","filterExpression","logicOperatorText","getLogicOperator"],"mappings":"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","file":"query.parser.js","sourceRoot":"../../../../../../.."}